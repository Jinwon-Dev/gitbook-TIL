---
description: 일일 회고 432일차
---

# ☹ 2023.10.23

## 할일 및 한일&#x20;

* [x] 캡스톤 미팅&#x20;
* [x] Wasabi 프로젝트 이미지 업로드 구현&#x20;

## 경험 및 배움&#x20;

### Wasabi 프로젝트 이미지 업로드 구현&#x20;

오늘은 하루종일 이미지 업로드 구현에 시간을 쏟았다.

`MultipartFile` 타입으로 받아서 S3에 이미지 UUID 형태로 업로드하고, 서버에는 S3의 이미지 링크와 파일 이름을 저장하는 식으로 구현했다.

<figure><img src="../.gitbook/assets/image (1).png" alt=""><figcaption></figcaption></figure>

하지만, 로직상에 꽤 복잡한 문제가 생겼다.

이미지 업로드 처리는 어렵지 않지만, 파일 업로드하는 API를 호출해서 업로드 한 후 프론트에서 S3 이미지 링크들을 응답해주는데, 그 과정에서 게시글이 저장되기 이전이라 게시글 ID가 없다! 따라서 매핑에 어려움이 있다.

더군다나 파일의 이름 같은 경우에는 `MultipartFile` 에서 받아야하지 S3 링크에서는 가져올 수 없다 😭

내일 고민해보고, 완료할 생각이다.

## 개선 및 목표&#x20;

* 내일은 게시글 이미지 업로드 과정 구현을 완료하자.&#x20;
