---
description: 일일 회고 195일차
---

# ☺ 2023.02.28

## 할일 및 한일&#x20;

* [x] 캡스톤 디자인 DB 설계(논리적 설계, 물리적 설계)&#x20;
* [x] 자바 ORM 표준 JPA 프로그래밍 4장(엔티티 매핑) 학습 및 정리&#x20;

## 경험 및 배움&#x20;

### 캡스톤 디자인 DB 설계(논리적 설계, 물리적 설계)&#x20;

오늘은 드디어 **캡스톤 디자인 DB 설계를 마무리**하였다!

회의 간에 팀원과 상의 하면서 여러 부분을 조율했고, 큰 틀은 크게 변하지 않을 것 같다.

물론 JPA를 공부하면서 세부 사항이 변경될 수도 있고, 구현을 하면서 요구 사항이 변경될 수도 있겠지만, 학습한 내용을 토대로 잘할 수 있을 것 같다.

이젠 실제로 매핑을 해보자!

{% embed url="https://jinwonyoon.notion.site/21e94051166542258d1b0efd8c4abd77" %}

### 자바 ORM 표준 JPA 프로그래밍 4장(엔티티 매핑) 학습 및 정리&#x20;

이번 단원도 역시 중요했다.

**다양한 매핑 어노테이션을 학습하고, 기본 키 매핑 전략(직접 할당, `IDENTITY` , `SEQUENCE` , `TABLE` , `AUTO`)도 학습해보았다.**

또한, **필드와 컬럼을 매핑할 때 쓰는 `@Column` , `@Enumerated` , `@Temporal` , `@Lob`** 등에 대해 학습해보았다.

여기서, 몇 가지 궁금증이 생겼다.

1. **JPA가 커밋 시점에 쿼리를 알아서 날려주는데 왜 직접 DDL을 Datagrip에서 넣어야하지?**
2. **우리는 PostgreSQL을 사용하는데, 책에는 기본 키 생성 전략을 PostgreSQL은 `IDENTITY` , `SEQUENCE` 를  다 지원하는데, `AUTO` 로 생략을 하면 무엇이 기본값이 될까?**

첫 번째 질문에 대한 답은 강의를 들을 때나 예제에서는 설정 파일에 `ddl-auto:create` 로 해놓았다.

그에 따라 DDL이 자동으로 생성되는데, 로컬 환경에서만 하라는 부분을 보고도 잊었다!

**`create` 옵션은 해당하는 테이블이 있으면 DROP하고 새로 만들어 버린다. **_**따라서 배포 환경에서는 사용하지 않는게 좋다고 한다. 따라서, DDL은 직접 넣어 주는게 좋은 것이다.**_

두 번째 질문에 대한 답은, 우리는 **`id` 컬럼의 데이터 타입을 `bigserial` 로 놓았는데, 이 타입은 `id` 값을 자동증가 해준다.** 따라서 `IDENTITY` 가 되지 않을까?.. 싶다. 정확한 답은 물어보자!

자세한 학습 정리 내용은 다음과 같다.

{% embed url="https://jinwonyoon.notion.site/4-acfb38c37cce46448993da621b80ea03" %}

## 개선 및 목표&#x20;

* 내일은 개강전 마지막 날이다.&#x20;
* 쉬엄 쉬엄 하면서, JPA를 정리하던가 아니면 캡스톤 디자인 매핑을 시도해보자.&#x20;
