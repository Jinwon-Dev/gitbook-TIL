---
description: 일일 회고 433일차
---

# 😀 2023.10.24

## 할일 및 한일&#x20;

* [x] Wasabi 백엔드 미팅&#x20;
* [x] Wasabi 프로젝트 이미지 업로드 기능 구현&#x20;

## 경험 및 배움&#x20;

### Wasabi 프로젝트 이미지 업로드 기능 구현&#x20;

오늘은 드디어 이미지 업로드 기능 구현을 완료했다!

{% embed url="https://github.com/Wisoft-Wasabi/wasabi-backend/pull/110" %}

계속 고민하던 점이, 이미지 업로드 시점에는 게시글이 등록되어 있지 않아 게시글과 매핑을 짓지 못한다는 점이었다.

**처음에 이미지를 업로드 할 땐 게시글 id 필드를 `null` 로 지정해두고, 클라이언트쪽에는 응답으로 S3 이미지 링크와 이미지 id를 넘겨준다.**

**그 후, 게시글 저장 시점에 받은 이미지 id를 통해 연관관계를 늦게 지어준다!**

생각해보니 그리 어렵지 않았다. 하지만 하나의 문제가 더 존재한다.

**`사용자가 이미지만 등록해놓고 게시글을 저장하지 않는다면, 필요하지 않고 게시글 id가 null인 고아 S3 이미지 객체가 계속해서 남는다!`**

**따라서 추가적으로 스케줄링을 돌려 쓸모없는 이미지를 판단하고, 주기적으로 지워주기로했다.**

이번주 구현은 스케줄링 + 팀원의 무중단 배포 돕기!

이번 프로젝트를 진행하면서 얻어가는 것들이 정말 많다 😊

### Wasabi 백엔드 미팅

금일 백엔드 미팅은 이미지 관련 회의 & 이번주 업무 정하기!

{% embed url="https://south-sting-a6b.notion.site/2023-10-24-6c2cd6a44b534bb5a84e2939eb7e08fb?pvs=4" %}

## 개선 및 목표&#x20;

* 내일은 낮에 전공 과목 시험이 예정되어 있다.&#x20;
* 남은 시간은 스케줄링을 건드려 보자.&#x20;
